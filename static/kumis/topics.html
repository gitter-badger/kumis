<!--
An element to fetch topic data from Kumis.
##### Example
    <kumis-topics zkClusterAddress="$ZK_CLUSTER"></kumis-topics>
@element kumis-topics
@blurb An element to fetch topic data from Kumis.
@status alpha
@url https://github.com/mofirouz/kumis/
-->

<polymer-element name="kumis-topics">
  <script>
    Polymer('kumis-topics', {
      computed: {
        topicsEndpoint: '$.globals.kumisEndpoint("/t")'
      }
    });
  </script>
  <template>
    <app-globals id="globals"></app-globals>
    <core-ajax
        auto
        method="GET"
        url="{{topicsEndpoint}}"
        contentType="application/json"
        handleAs="json"
        response="{{response}}"></core-ajax>

    <section>
      <template repeat="{{response}}">
        <article>

          <button onclick='getKumisBrokerAddress("{{$.globals.zkaddress}}/t/{{}}")'>{{}}</button>
        </article>
      </template>
    </section>
  </template>
  
</polymer-element>
